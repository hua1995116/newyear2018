<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="author" content="hahnzhu" />
	<meta name="format-detection" content="telephone=no" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<title>Demo</title>
	<link rel="stylesheet" href="./css/parallax.css">
	<link rel="stylesheet" href="./css/parallax-animation.css">
	<link rel="stylesheet" href="./css/animate.css">
	<!-- <link rel="stylesheet" type="text/css" href="../dist/qicss/normalize.css" />
	<link rel="stylesheet" type="text/css" href="../dist/qicss/demo.css" /> -->

	<!--必要样式-->
	<!-- <link rel="stylesheet" type="text/css" href="../dist/qicss/component.css" /> -->
	<link rel="stylesheet" href="./css/style.css">
</head>
<body>
<audio autoplay="autoplay" src="http://ozt4jt8av.bkt.clouddn.com/1.mp3" loop="loop" id="myaudio">
  <source src="http://ozt4jt8av.bkt.clouddn.com/1.mp3" />
</audio>
<div class="wrapper">

	<div class="pages">

		<!-- 第一屏 首屏介绍--> 
		<section class="page">	
			<canvas id="canvas" width="694" height="662"></canvas> 
			<div class="page1-content">
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="500">
					王王,
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="1000">
					很是对不起你,
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="1500">
					在每一个情人节,我都没办法留在你的身边。
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="2000">
					首先祝王王情人节快乐。
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="2500">
					爱你么么哒。
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="3000">
					特此献上花花的爱,以表衷心。
				</div>
				<div class="page1-p" data-animation="fadeInToBottom"  data-delay="3500">
					尽情欣赏~
				</div>
			</div>
		</section>
        <!-- 第二屏 两个人物动画，相爱时间，配上气球-->
		<section class="page">	
			<div class="page2-title"  data-animation="fadeInToBottom"  data-duration="1000">转眼之间，我们已经相爱290天了。</div>
			<div class="page2-p"  data-animation="fadeInToBottom"  data-duration="1000">请收下我的小花。</div>
			<div class="page2-boy" data-animation="fadeInLeft"  data-duration="2000">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/boy.png" alt="">
			</div>
			<div class="page2-gril" data-animation="fadeInRight"  data-duration="3000">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/gril.png" alt="">
			</div>
			<div class="page2-mouse1" data-animation="fadeIn"  data-delay="3000" data-duration="2000">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/mouse1.png" alt="">
			</div>
			<div class="page2-mouse2" data-animation="fadeIn"  data-delay="3500" data-duration="2000">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/mouse2.png" alt="">
				</div>
		</section>

        <!-- 第三屏 我们曾经在这座城市-->
		<section class="page">
			<div class="page3-title" data-animation="fadeInToBottom"  data-delay="1000">我们的曾经在这座城市有无数美好的回忆</div>
			<div class="page3-title" data-animation="fadeInToBottom"  data-delay="2000">我们的足迹遍布全城</div>
			<div class="page3-map">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/1518593648%281%29.jpg" alt="">
				<div class="location-map map1" data-animation="fadeInToBottom"  data-delay="200"></div>
				<div class="location-map map2" data-animation="fadeInToBottom"  data-delay="500"></div>
				<div class="location-map map3" data-animation="fadeInToBottom"  data-delay="700"></div>
				<div class="location-map map4" data-animation="fadeInToBottom"  data-delay="1000"></div>
				<div class="location-map map5" data-animation="fadeInToBottom"  data-delay="1200"></div>
				<div class="location-map map6" data-animation="fadeInToBottom"  data-delay="1400"></div>
			</div>
		</section>

		<!-- 第四屏 我们的思念距离-->
		<section class="page">
			<div class="page4-map">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/1518589190%281%29.jpg" alt="">
			</div>
			<div class="page3-title" data-animation="fadeInLeft" data-delay="500">两点一线</div>
			<div class="page3-title" data-animation="fadeInLeft" data-delay="1000">163公里</div>
			<div class="page3-title" data-animation="fadeInLeft" data-delay="1500">但是这并不能阻挡我的心靠近你</div>
			<div class="page3-list">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/1.jpg" alt="" class="page3-img page3-img1" data-animation="fadeIn"  data-duration="1000" data-delay="2500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/2.jpg" alt="" class="page3-img page3-img2" data-animation="fadeIn" data-duration="1000" data-delay="3500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/3.jpg" alt="" class="page3-img page3-img3" data-animation="fadeIn" data-duration="1000" data-delay="4500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/4.jpg" alt="" class="page3-img page3-img4" data-animation="fadeIn" data-duration="1000" data-delay="5500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/5.jpg" alt="" class="page3-img page3-img5" data-animation="fadeIn" data-duration="1000" data-delay="6500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/6.jpg" alt="" class="page3-img page3-img6" data-animation="fadeIn" data-duration="1000" data-delay="7500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/7.jpg" alt="" class="page3-img page3-img7" data-animation="fadeIn" data-duration="1000" data-delay="8500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/8.jpg" alt="" class="page3-img page3-img8" data-animation="fadeIn" data-duration="1000" data-delay="9500"> 
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/9.jpg" alt="" class="page3-img page3-img9" data-animation="fadeIn" data-duration="1000" data-delay="10500">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/10.jpg" alt="" class="page3-img page3-img10" data-animation="fadeIn" data-duration="1000" data-delay="11000">
			</div>
		</section>
		<!-- 第五屏 送给礼物动画-->
		<section class="page">
			<div class="page3-title" data-animation="fadeInLeft" data-delay="500">送给我亲爱的菡宝宝</div>
			<div class="page5-head" data-animation="fadeInDown" data-delay="1000" data-duration="1000">
				<img src="
				http://2018hyf.oss-cn-beijing.aliyuncs.com/head.png" alt="">
			</div>
			<div class="page5-gift" data-animation="fadeInDown" data-delay="3000" data-duration="2000">
				<img src="
				http://2018hyf.oss-cn-beijing.aliyuncs.com/gift.png" alt="">
			</div>
		</section>
		<!-- 第六屏 抽奖-->
		<section class="page">
			<div  class="page3-title" data-animation="fadeInLeft" data-delay="500">嘿嘿，先玩个游戏吧~</div>
			<div class="content">
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/pocket.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/gift.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/pocket.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/thank.png"></div>
				<div class="block" id="pocket"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/choujiang.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/thank.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/pocket.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/mouse1.png"></div>
				<div class="block"><img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/pocket.png"></div>
			</div>
			<div class="page5-input-content">
				<input type="" name="" class="page5-input">
				<a class="page5-btn">发送</a>
			</div>
		</section>
		<div class="pocket-success">
			<div class="pocket-bg"></div>
			<div class="pocket-content">
				<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/kouhong.jpg" alt="">
				<p>tf 16</p>
				<p>凭暗号5Y2O55uK5bOw54ix546L6K+X6I+h</p>
				<p>请截图，往花花处领取</p>
				<p>希望你能喜欢礼物~爱你哦</p>
			</div>
		</div>
		<!-- 第七屏 白天到黑夜-->
		<section class="page">
			<div class="page7-con">
				<div class="wraper1">
					<div class="item1"></div>
				</div>
				<div class="wraper2">
					<div class="item2"></div>
				</div>
				<div class="page7-cloud cloud1">
					<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/cloud1.png">
				</div>
				<div class="page7-cloud cloud2">
					<img src="http://2018hyf.oss-cn-beijing.aliyuncs.com/cloud2.png">
				</div>
				<div class="page7-content">
					<div class="page7-p" data-animation="fadeInDown" data-delay="1000" data-duration="1000">
						阳光明媚的日子总是那么的迷人
					</div>
					<div class="page7-p" data-animation="fadeInDown" data-delay="2000" data-duration="1000">
						日照下，一杯茶
					</div>
					<div class="page7-p" data-animation="fadeInDown" data-delay="3000" data-duration="1000">
						有你相伴就好
					</div>
					<div class="page7-p" data-animation="fadeInDown" data-delay="4000" data-duration="1000">
						从白天到黑夜
					</div>
					<div class="page7-p" data-animation="fadeInDown" data-delay="5000" data-duration="1000">
						瞬息万变
					</div>
					<div  class="page7-p" data-animation="fadeInDown" data-delay="6000" data-duration="1000">
						只要有你,足矣
					</div>
				</div>
			</div>
		</section>
		<!-- 第八屏 烟花-->
		<section class="page">
			<canvas id="canvas-pao"></canvas>
			<div class="page8-happy" >
				新年快乐
			</div>
			<!-- <div class="page8-pao">
				<img src="
				http://2018hyf.oss-cn-beijing.aliyuncs.com/pao.png" alt="">
			</div>	
			<div class="tip">
				点燃
			</div>	 -->
		</section>
	</div>
</div>
<script src="./js/zepto.min.js"></script>
<script src="./js/parallax.js"></script>
<script>
	$('.pages').parallax({
		direction: 'vertical', 	// horizontal (水平翻页)
		swipeAnim: 'cover', 	// cover (切换效果)
		drag:      true,		// 是否允许拖拽 (若 false 则只有在 touchend 之后才会翻页)
		loading:   false,		// 有无加载页
		indicator: false,		// 有无指示点
		arrow:     true,		// 有无指示箭头
		/*
			* 翻页后立即执行
			* {int} 		index: 第几页
			* {DOMElement} element: 当前页节点
			* {String}		directation: forward(前翻)、backward(后翻)、stay(保持原页)
			*/
		onchange: function(index, element, direction) {
			// code here...
			// console.log(index, element, direction);
		},
		/*
			* 横竖屏检测
			* {String}		orientation: landscape、protrait
			*/
		orientationchange: function(orientation) {
			// console.log(orientation);
		}
	});
function audioAutoPlay(id){

    var audio = document.getElementById(id),

	play = function(){

		audio.play();

		document.removeEventListener("touchstart",play,false);

	};

	audio.play();

	document.addEventListener("WeixinJSBridgeReady",function() {

		play();

	},false);

	document.addEventListener('YixinJSBridgeReady',function() {

		play();

	},false);

	document.addEventListener("touchstart",play,false);

}

audioAutoPlay('myaudio');
</script>
<script src="./js/index.js"></script>
<script src="./js/star.js"></script>
<script src="http://cdn.bootcss.com/jquery/1.11.0/jquery.min.js" type="text/javascript"></script>
<script>
$(function() {
	var canvas = $('#canvas-pao')[0];
	canvas.width = $(window).width();
	canvas.height = $(window).height();
	var ctx = canvas.getContext('2d');
	
	// resize
	$(window).on('resize', function() {
		canvas.width = $(window).width();
		canvas.height = $(window).height();
		ctx.fillStyle = '#000';
		ctx.fillRect(0, 0, canvas.width, canvas.height);
	});

	// init
	ctx.fillStyle = '#000';
	ctx.fillRect(0, 0, canvas.width, canvas.height);
	// objects
	var listFire = [];
	var listFirework = [];
	var fireNumber = 10;
	var center = { x: canvas.width / 2, y: canvas.height / 2 };
	var range = 100;
	for (var i = 0; i < fireNumber; i++) {
		var fire = {
			x: Math.random() * range / 2 - range / 4 + center.x,
			y: Math.random() * range * 2 + canvas.height,
			size: Math.random() + 0.5,
			fill: '#fd1',
			vx: Math.random() - 0.5,
			vy: -(Math.random() + 4),
			ax: Math.random() * 0.02 - 0.01,
			far: Math.random() * range + (center.y - range)
		};
		fire.base = {
			x: fire.x,
			y: fire.y,
			vx: fire.vx
		};
		//
		listFire.push(fire);
	}

	function randColor() {
		var r = Math.floor(Math.random() * 256);
		var g = Math.floor(Math.random() * 256);
		var b = Math.floor(Math.random() * 256);
		var color = 'rgb($r, $g, $b)';
		color = color.replace('$r', r);
		color = color.replace('$g', g);
		color = color.replace('$b', b);
		return color;
	}
	(function loop() {
		requestAnimationFrame(loop);
		update();
		draw();
	})();

	function update() {
		for (var i = 0; i < listFire.length; i++) {
			var fire = listFire[i];
			//
			if (fire.y <= fire.far) {
				// case add firework
				var color = randColor();
				for (var i = 0; i < fireNumber * 5; i++) {
					var firework = {
						x: fire.x,
						y: fire.y,
						size: Math.random() + 1.5,
						fill: color,
						vx: Math.random() * 5 - 2.5,
						vy: Math.random() * -5 + 1.5,
						ay: 0.05,
						alpha: 1,
						life: Math.round(Math.random() * range / 2) + range / 2
					};
					firework.base = {
						life: firework.life,
						size: firework.size
					};
					listFirework.push(firework);
				}
				// reset
				fire.y = fire.base.y;
				fire.x = fire.base.x;
				fire.vx = fire.base.vx;
				fire.ax = Math.random() * 0.02 - 0.01;
			}
			//
			fire.x += fire.vx;
			fire.y += fire.vy;
			fire.vx += fire.ax;
		}

		for (var i = listFirework.length - 1; i >= 0; i--) {
			var firework = listFirework[i];
			if (firework) {
				firework.x += firework.vx;
				firework.y += firework.vy;
				firework.vy += firework.ay;
				firework.alpha = firework.life / firework.base.life;
				firework.size = firework.alpha * firework.base.size;
				firework.alpha = firework.alpha > 0.6 ? 1 : firework.alpha;
				//
				firework.life--;
				if (firework.life <= 0) {
					listFirework.splice(i, 1);
				}
			}
		}
	}

	function draw() {
		// clear
		ctx.globalCompositeOperation = 'source-over';
		ctx.globalAlpha = 0.18;
		ctx.fillStyle = '#000';
		ctx.fillRect(0, 0, canvas.width, canvas.height);

		// re-draw
		ctx.globalCompositeOperation = 'screen';
		ctx.globalAlpha = 1;
		for (var i = 0; i < listFire.length; i++) {
			var fire = listFire[i];
			ctx.beginPath();
			ctx.arc(fire.x, fire.y, fire.size, 0, Math.PI * 2);
			ctx.closePath();
			ctx.fillStyle = fire.fill;
			ctx.fill();
		}

		for (var i = 0; i < listFirework.length; i++) {
			var firework = listFirework[i];
			ctx.globalAlpha = firework.alpha;
			ctx.beginPath();
			ctx.arc(firework.x, firework.y, firework.size, 0, Math.PI * 2);
			ctx.closePath();
			ctx.fillStyle = firework.fill;
			ctx.fill();
		}
	}
})	
</script>
<!-- <script src="http://wechatfe.github.io/vconsole/lib/vconsole.min.js?v=3.0.0.0"></script>
<script>
	var vConsole = new VConsole();
</script> -->
</body>
</html>